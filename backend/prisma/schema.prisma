generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "mysql"
  url      = env("DATABASE_URL")
}

model pet {
  id          Int       @id @default(autoincrement())
  name        String
  age         Int
  type        String
  adopted     Boolean   @default(false)
  userId      Int
  description String
  imageUrl    String?   @db.VarChar(255)
  adoptedBy   Int?
  adoptedAt   DateTime? @db.DateTime(0)
  adoptable   Boolean   @default(false)
  adopter     user?     @relation("PetAdopter", fields: [adoptedBy], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "FK_pet_adoptedBy")
  user        user      @relation(fields: [userId], references: [id], map: "Pet_userId_fkey")

  @@index([adoptedBy], map: "FK_pet_adoptedBy")
  @@index([userId], map: "Pet_userId_fkey")
}
enum Role {
  ADOTANTE
  DOADOR
}
model user {
  id          Int     @id @default(autoincrement())
  name        String
  email       String  @unique(map: "User_email_key")
  password    String
  city        String?
  phone       String?
  state       String?
  petsAdopted pet[]   @relation("PetAdopter")
  petsCreated pet[]
  role        Role  @default(ADOTANTE)
}
